# HIRL é¡¹ç›®è¿ç§»è¯´æ˜

## ğŸ”„ é‡æ„å®ŒæˆçŠ¶æ€

### âœ… å·²åˆ é™¤çš„è¿‡æ—¶æ–‡ä»¶

ä»¥ä¸‹æ—§æ–‡ä»¶å·²è¢«åˆ é™¤ï¼Œå› ä¸ºåŠŸèƒ½å·²å®Œå…¨è¢«æ–°çš„æ¨¡å—åŒ–æ¶æ„æ›¿ä»£ï¼š

#### 1. `pusht_human.py` â†’ `main.py` + `src/core/game.py`
- **æ—§æ–‡ä»¶**: å•ä½“æ¶æ„ï¼Œ493è¡Œä»£ç 
- **æ–°å®ç°**: æ¨¡å—åŒ–æ¶æ„ï¼ŒåŠŸèƒ½åˆ†æ•£åˆ°å¤šä¸ªä¸“é—¨æ¨¡å—
- **ä½¿ç”¨æ–¹å¼**: `python main.py` (ä¿æŒä¸å˜)

#### 2. `replay_trajectories.py` â†’ `replay.py` + `src/visualization/replay.py`
- **æ—§æ–‡ä»¶**: ä½¿ç”¨æ—§çš„utils.pyä¾èµ–
- **æ–°å®ç°**: ä½¿ç”¨æ–°çš„æ¨¡å—åŒ–å›æ”¾å™¨
- **ä½¿ç”¨æ–¹å¼**: `python replay.py` (ä¿æŒä¸å˜)

#### 3. `utils.py` â†’ å¤šä¸ªæ¨¡å—åŒ–æ–‡ä»¶
- **æ—§æ–‡ä»¶**: 651è¡Œçš„å·¨å¤§å•ä½“æ–‡ä»¶
- **æ–°æ¶æ„**:
  ```
  HIRL/
  â”œâ”€â”€ core/data_types.py        # TrajectoryStep, Episode
  â”œâ”€â”€ data/data_manager.py      # DataManager
  â”œâ”€â”€ data/huggingface_uploader.py  # HuggingFaceUploader
  â”œâ”€â”€ controllers/             # KeyboardController, MouseController
  â””â”€â”€ visualization/replay.py  # TrajectoryReplayer
  ```

### ğŸ“¦ å½“å‰æ¨èçš„æ–‡ä»¶ç»“æ„

```
HIRL/
â”œâ”€â”€ main.py                  # âœ… ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ replay.py               # âœ… è½¨è¿¹å›æ”¾å·¥å…·
â”œâ”€â”€ HIRL/                   # âœ… æ ¸å¿ƒPythonåŒ…
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒæ•°æ®ç»“æ„å’Œæ¸¸æˆé€»è¾‘
â”‚   â”œâ”€â”€ controllers/       # è¾“å…¥æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ data/             # æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ visualization/    # å¯è§†åŒ–å’Œå›æ”¾
â”‚   â””â”€â”€ training/         # å¼ºåŒ–å­¦ä¹ è®­ç»ƒ
â”œâ”€â”€ configs/              # âœ… é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/              # âœ… è¾…åŠ©è„šæœ¬
â””â”€â”€ docs/                # âœ… æ–‡æ¡£
```

### ğŸ¯ ç”¨æˆ·ä½¿ç”¨æŒ‡å—

#### æ–°çš„ä½¿ç”¨æ–¹å¼ï¼ˆæ¨èï¼‰
```bash
# è¿è¡Œä¸»ç¨‹åºï¼ˆåŠŸèƒ½å®Œå…¨ç›¸åŒï¼‰
python main.py                          # ä½¿ç”¨é»˜è®¤é…ç½®
python main.py --config-name=pusht_human_mouse  # ä½¿ç”¨é¼ æ ‡æ§åˆ¶

# å›æ”¾è½¨è¿¹ï¼ˆåŠŸèƒ½å®Œå…¨ç›¸åŒï¼‰
python replay.py                        # ä½¿ç”¨é»˜è®¤é…ç½®
python replay.py data_path=your_file.h5  # æŒ‡å®šæ•°æ®æ–‡ä»¶

# æ•°æ®æ ¼å¼è½¬æ¢ï¼ˆæ–°åŠŸèƒ½ï¼‰
python scripts/convert_data_format.py old_file.pkl --format hdf5
```

#### å‘åå…¼å®¹æ€§
- âœ… æ‰€æœ‰å‘½ä»¤è¡Œæ¥å£ä¿æŒä¸å˜
- âœ… é…ç½®æ–‡ä»¶æ ¼å¼ä¿æŒå…¼å®¹
- âœ… æ•°æ®æ–‡ä»¶æ ¼å¼å‘åå…¼å®¹
- âœ… åŠŸèƒ½å®Œå…¨ä¿æŒä¸€è‡´

### ğŸ”§ å¼€å‘è€…æŒ‡å—

#### å¯¼å…¥æ–°æ¨¡å—
```python
# æ–°çš„PythonåŒ…å¯¼å…¥æ–¹å¼
from HIRL.core import PushTGame
from HIRL.data import DataManager
from HIRL.controllers import KeyboardController, MouseController
from HIRL.visualization.replay import TrajectoryReplayer
```

#### æ•°æ®æ ¼å¼æ¨è
```python
# æ¨èä½¿ç”¨æ–°çš„çº¯æ•°æ®æ ¼å¼
manager = DataManager("data", save_format="hdf5")  # é»˜è®¤æ¨è
manager = DataManager("data", save_format="json")  # è°ƒè¯•ç”¨
manager = DataManager("data", save_format="csv")   # åˆ†æç”¨
```

### âš ï¸ é‡è¦æé†’

1. **æ—§ä»£ç å¼•ç”¨**: å¦‚æœæœ‰è‡ªå®šä¹‰è„šæœ¬å¼•ç”¨äº†åˆ é™¤çš„æ–‡ä»¶ï¼Œéœ€è¦æ›´æ–°å¯¼å…¥è·¯å¾„
2. **æ•°æ®å…¼å®¹æ€§**: æ—§çš„pickleæ–‡ä»¶ä»ç„¶å¯ä»¥åŠ è½½ï¼Œä½†å»ºè®®è½¬æ¢ä¸ºæ–°æ ¼å¼
3. **åŠŸèƒ½å®Œæ•´æ€§**: æ‰€æœ‰åŸæœ‰åŠŸèƒ½éƒ½è¢«ä¿ç•™ï¼Œåªæ˜¯ç»„ç»‡æ–¹å¼æ›´åŠ æ¨¡å—åŒ–

### ğŸš€ æ–°åŠŸèƒ½ä¼˜åŠ¿

1. **æ›´å¥½çš„ä»£ç ç»„ç»‡**: æ¨¡å—åŒ–æ¶æ„ï¼Œæ˜“äºç»´æŠ¤
2. **çº¯æ•°æ®æ ¼å¼**: HDF5/JSON/CSVæ ¼å¼ï¼Œæ— ç±»ä¾èµ–
3. **æ›´å¥½çš„æ€§èƒ½**: ä¼˜åŒ–çš„æ•°æ®ä¿å­˜å’ŒåŠ è½½
4. **æ›´å¼ºçš„å¯æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°åŠŸèƒ½
5. **æ›´å¥½çš„æµ‹è¯•æ€§**: æ¨¡å—åŒ–ä¾¿äºå•å…ƒæµ‹è¯•

è¿ç§»å·²å®Œæˆï¼Œé¡¹ç›®ç°åœ¨ä½¿ç”¨ç°ä»£åŒ–çš„æ¨¡å—åŒ–æ¶æ„ï¼ğŸ‰ 